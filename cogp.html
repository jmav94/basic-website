<!doctype html>
<html>
    <head>
        <title>Cifrado Por Desplazamiento</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">        

        <!--Prism-->
        <link href="prism.css" rel="stylesheet" />

    </head>

    <body id="ciphers">
        <div id="head-wrapper">
            <figure class="text-center">
                <blockquote class="blockquote">
                  <p><h1>Criptograf√≠a</h1></p>
                </blockquote>
                <figcaption class="blockquote-footer">
                  <h3>Cifrado Por Desplazamiento</h3>
                </figcaption>
            </figure>
        </div>

        <script type="text/javascript"> 
            function Encrypt() {
                mensajeclaro = document.getElementById("p").value.toUpperCase();  
                if(mensajeclaro.length < 1){ alert("Por favor ingrese el mensaje en claro"); return; }    
                var desplazamiento = parseInt(document.getElementById("key").value);
                criptograma = "";    var re = /[A-Z]/;
                for(i=0; i<mensajeclaro.length; i++){ 
                    if(re.test(mensajeclaro.charAt(i))) criptograma += String.fromCharCode((mensajeclaro.charCodeAt(i) - 65 + desplazamiento)%26 + 65); 
                    else criptograma += mensajeclaro.charAt(i); 
                } 
                document.getElementById("c").value = criptograma; 
            } 
        
            function Decrypt(f) { 
                criptograma = document.getElementById("c").value.toUpperCase();  
                // do some error checking 
                if(criptograma.length < 1){ alert("Por favor ingrese un texto cifrado (solo letras)"); return; }    
                var desplazamiento = parseInt(document.getElementById("key").value);
                mensajeclaro = "";    var re = /[A-Z]/;
                for(i=0; i<criptograma.length; i++){ 
                    if(re.test(criptograma.charAt(i))) mensajeclaro += String.fromCharCode((criptograma.charCodeAt(i) - 65 + 26 - desplazamiento)%26 + 65); 
                    else mensajeclaro += criptograma.charAt(i); 
                } 
                document.getElementById("p").value = mensajeclaro; 
            } 
        </script>

        <div class="container-sm">
            <div class="row">
                <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vQZHjixVlPGYQO-WukjNHScWvon8_bMGGX5aMK4G7VrnZe3mrQP_KbEWAMV2Yhc6U-X-r8UM_nGQiLR/embed?start=false&loop=false&delayms=60000" frameborder="0" width="1440" height="839" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
            </div>
            <div class="row">
                <pre>
                    <code class="language-javascript">
                        <script type="text/javascript"> 
                            function Encrypt() {
                                mensajeclaro = document.getElementById("p").value.toUpperCase();  
                                if(mensajeclaro.length < 1){ alert("Por favor ingrese el mensaje en claro"); return; }    
                                var desplazamiento = parseInt(document.getElementById("key").value);
                                criptograma = "";    var re = /[A-Z]/;
                                for(i=0; i<mensajeclaro.length; i++){ 
                                    if(re.test(mensajeclaro.charAt(i))) criptograma += String.fromCharCode((mensajeclaro.charCodeAt(i) - 65 + desplazamiento)%26 + 65); 
                                    else criptograma += mensajeclaro.charAt(i); 
                                } 
                                document.getElementById("c").value = criptograma; 
                            } 
                        
                            function Decrypt(f) { 
                                criptograma = document.getElementById("c").value.toUpperCase();  
                                // do some error checking 
                                if(criptograma.length < 1){ alert("Por favor ingrese un texto cifrado (solo letras)"); return; }    
                                var desplazamiento = parseInt(document.getElementById("key").value);
                                mensajeclaro = "";    var re = /[A-Z]/;
                                for(i=0; i<criptograma.length; i++){ 
                                    if(re.test(criptograma.charAt(i))) mensajeclaro += String.fromCharCode((criptograma.charCodeAt(i) - 65 + 26 - desplazamiento)%26 + 65); 
                                    else mensajeclaro += criptograma.charAt(i); 
                                } 
                                document.getElementById("p").value = mensajeclaro; 
                            } 
                        </script>
                
                    </code>
                </pre>
            </div>
            <div clas="row">
                <div >
                    <h3>
                        Ejemplo
                        <small class="text-success">En JavaScript</small>
                    </h3>
                </div>
        
                <div class="mb-3">
                    <label class="form-label"><i class="far fa-comment-dots"></i> Mensaje en claro</label>
                    <textarea class="form-control shadow p-3 mb-5 bg-body rounded" id="p" rows="4" cols="50" wrap="soft" placeholder="Ingrese un mensaje en claro"></textarea>
                </div>
    
                <div class="row mb-3">
                    <div class="col-8">
                        <label class="form-label"><i class="fas fa-long-arrow-alt-right"></i> Desplazamiento</label>
                        <select class="form-select form-select-lg" aria-label=".form-select-sm example" id="key" name="key" size="1">
                            <option selected>Seleccione el desplazamiento</option>
                            <option value="0">0</option> 
                            <option value="1">1</option> 
                            <option value="2">2</option> 
                            <option value="3">3</option> 
                            <option value="4">4</option> 
                            <option value="5">5</option> 
                            <option value="6">6</option> 
                            <option value="7">7</option> 
                            <option value="8">8</option> 
                            <option value="9">9</option> 
                            <option value="10">10</option> 
                            <option value="11">11</option> 
                            <option value="12">12</option> 
                            <option value="13">13</option> 
                            <option value="14">14</option> 
                            <option value="15">15</option> 
                            <option value="16">16</option> 
                            <option value="17">17</option> 
                            <option value="18">18</option> 
                            <option value="19">19</option> 
                            <option value="20">20</option> 
                            <option value="21">21</option> 
                            <option value="22">22</option> 
                            <option value="23">23</option> 
                            <option value="24">24</option> 
                            <option value="25">25</option> 
                          </select>
                    </div>
                    <div class="col-4 d-grid gap-2 d-md-flex justify-content-md-end">
                        <button class="btn btn-primary me-md-2 btn-lg bg-success bg-gradient" name="e" onclick="Encrypt()" type="button">Cifrar <i class="far fa-arrow-alt-circle-down"></i></button>
                        <button class="btn btn-primary btn-lg bg-success bg-gradient" name="d" onclick="Decrypt()" type="button">Descifrar <i class="far fa-arrow-alt-circle-up"></i></button>
                    </div>
    
                </div>
    
                <div class="mb-3">
                    <label class="form-label"><i class="fas fa-lock"></i> Criptograma</label>
                    <textarea class="form-control shadow p-3 mb-5 bg-body rounded" id="c" name="c" rows="4" cols="50" placeholder="Ingrese un criptograma"></textarea>
                </div>
    
            </div>

        </div>

        <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

        <!-- Icons FontAwesome-->
        <script src="https://kit.fontawesome.com/2f330924ef.js" crossorigin="anonymous"></script>
 
        <!--Script Prism-->
        <script src="prism.js"></script>

    </body>
</html>